<template name="blacksmith">

    <div>
        <b>Blacksmith</b>
    </div>

    {{#with blacksmith}}
    <div><i>{{ owner }}</i></div>
    <h4>{{welcome}}</h4>

    <p class="blacksmith-materials">
        {{#each materials}}
            {{{itemLink id}}}x{{qty}}
        {{/each}}
    </p>

    <p class="blacksmith-schematics">
        <b>Schematics</b><br>
        {{#each schematics}}
            <div schematic="{{id}}">{{{itemLink id}}}</div>
        {{/each}}
    </p>

    <p class="blacksmith-forge">
        <b>Forge</b>
        {{#each ores}}
            <div ore="{{id}}">{{{itemLink id}}}x{{qty}}</div>
        {{/each}}
    </p>

    {{#if activeOre}}
    <p>
        <b>Smelt</b><br>
        {{#with activeOre}}
            <b>{{labelify id}}</b>
            <button class="smelt">Smelt</button>
        {{/with}}
    </p>
    {{/if}}

    {{#if activeSchematic}}
    <p>
        <b>Craft</b><br>
        {{#with activeSchematic}}
            <b>{{labelify id}}</b>
            <div>Requires:
                <div>
                {{#each requires}}
                    {{{itemLink id}}}x{{qty}}
                {{/each}}
                </div>
            </div>

            <button class="craft">Craft</button>
        {{/with}}
    </p>
    {{/if}}
    {{/with}}
</template>